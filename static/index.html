<!doctype html>
<html>
<head>
    <script src='/static/js/swagger-client.js' type='text/javascript'></script>
    <script src='/static/js/knockout.js'></script>
    <script>

     var specUrl = '/v1';
     //SwaggerClient.http.withCredentials = true; // this activates CORS, if necessary

     async function swaggerin () {
         const swaggerClient = await new SwaggerClient(specUrl);
         let response = await swaggerClient.apis.default.get_v1_featurerequest();
         let allFeatureRequests
         if (response.ok) {
             allFeatureRequests = response.obj.featurerequests;
         }
         ko.applyBindings({'featureRequests': allFeatureRequests});
         console.log(allFeatureRequests);
     }

     swaggerin().then(() => 'swag')
    </script>
</head>
<body>
    <h1>Feature Requests</h1>
    <table>
        <thead>
            <tr><th>Priority</th><th>Title</th><th>Description</th><th>Client</th><th>Product Area</th>
        </thead>
        <tbody data-bind="foreach: featureRequests">
            <tr>
                <td><span data-bind="text: priority"></span>         </td>
                <td><span data-bind="text: title"></span>            </td>
                <td><span data-bind="text: description"></span>      </td>
                <td><span data-bind="text: client_name"></span>      </td>
                <td><span data-bind="text: productarea_name"></span> </td>
            </tr>
        </tbody>
    </table>

</body>
</html>
